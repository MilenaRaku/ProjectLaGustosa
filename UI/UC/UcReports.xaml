<UserControl x:Class="LaGustosa.UI.UC.UcReports"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:LaGustosa.UI.UC"
             mc:Ignorable="d" 
             Height="800" Width="1150">
    
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="Отчеты" Style="{StaticResource Foreground}" FontSize="24" FontWeight="Bold" Margin="10,20,0,10"/>

        <Border Grid.Row="1"  Padding="10" CornerRadius="5" >
            <StackPanel Orientation="Horizontal">
                <ComboBox x:Name="ReportTypeComboBox" Width="150" Margin="0,0,10,0">
                    <ComboBoxItem Content="За смену" Tag="shift"/>
                    <ComboBoxItem Content="За неделю" Tag="week" IsSelected="True"/>
                    <ComboBoxItem Content="За месяц" Tag="month"/>
                </ComboBox>

                <DatePicker x:Name="StartDatePicker" Style="{StaticResource DatePickerReports}"/>

                <DatePicker x:Name="EndDatePicker" Style="{StaticResource DatePickerReports}" IsEnabled="False"/>

                <Button Content="Сформировать" Click="GenerateReport_Click" Style="{StaticResource ButtonReports}"/>

            </StackPanel>
        </Border>

        <DataGrid x:Name="ReportDataGrid" Style="{StaticResource ModernDataGridReports}">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Дата" Binding="{Binding Date, StringFormat='dd.MM.yyyy'}" Width="100"/>
                <DataGridTextColumn Header="Количество заказов" Binding="{Binding OrdersCount}" Width="140"/>
                <DataGridTextColumn Header="Сумма выручки" Binding="{Binding TotalAmount, StringFormat='{}{0:N2} руб.'}" Width="150"/>
                <DataGridTextColumn Header="Средний чек" Binding="{Binding AverageCheck, StringFormat='{}{0:N2} руб.'}" Width="150"/>
                <DataGridTextColumn Header="Популярное блюдо" Binding="{Binding MostPopularDish}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <Border Grid.Row="3"  Padding="10" Margin="0,10,0,0" CornerRadius="5">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <TextBlock Text="Итого за период:" FontWeight="Bold" Margin="0,0,10,0" Style="{StaticResource Foreground}"/>
                <TextBlock x:Name="TotalOrdersText" Margin="0,0,20,0" Style="{StaticResource Foreground}"/>
                <TextBlock x:Name="TotalAmountText" Margin="0,0,20,0" Style="{StaticResource Foreground}"/>
                <TextBlock x:Name="AverageCheckText" Style="{StaticResource Foreground}"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
